# Trestore - Milestone Project 4

![Image of responsive page mockups](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/multi-device.png)

## Website Description

Trestore is a website that serves two purposes, the first, to facilitate the sale of native trees and seeds to customers, and the second, to offer sponsorship packages to customers so that they can support the replanting of native Irish trees. In the aims of creating an immersive website and encourage repeat visiting and shopping the website offers to dedicate a percentage of each sale directly to planting native trees and tracks the number of trees planted by each user in this manner on their profile creating a sense of achievement and satisfying feedback from each purchase. 

As well as this the website contains a progress blog where employees and administrators of the website can post updates including images of Trestore's replanting efforts and wider company news. Registered users are also able to comment on these posts, intending to create a sense of engagement between the customers and the store and enhancing the sense of involvement that the customer feels with regards to the company's goal of planting native trees and woodlands. 

While creating the design for the website I wanted to use a colour scheme and layout that emphasised the green and environmental nature of the purpose of the website. Additionally, to make the user experience as seamless and easy as possible the website also emphasises intuitive page and website interaction. With simple and clear action buttons on the home page and the most important page interactions highlighted with buttons styled in line with the website's branding, the website has a cohesive and connected feeling throughout, attempting to elevate the user's experience of using the site.

## User Experience / UX
### User Stories
### First time user
  1. **As a first-time user, I should be able to understand the purpose and function of the website.**

  3. **As a first-time user, I should be able to understand the navigation structure and how to interact with the website.**

  3. **As a first-time user, I want to be able to find out about the company and their actions.**

  3. **As a first-time user, I want to be able to register an account.**

### Repeat user 
  1. **As a customer, I want to be able to view all available products.**

  3. **As a customer, I want to be able to view sponsorship packages.**

  3. **As a customer, I should be able to sort products by category.**
 
  5. **As a customer, I should be able to alter the criteria under which the displayed products are ordered.**
  
  7. **As a customer, I should be able to search products directly by keywords.**

  3. **As a customer, I should be able to view details about a specific product.**

  3. **As a customer, I should be able to add a product to the basket.**
  
  5. **As a customer, I should be able to edit the quantity of an item in the basket.**
  
  7. **As a customer, I should be able to remove an item from the basket.**

  3. **As a customer, I want to be able to view the contents of the basket.**

  3. **As a customer, I should be able to see the total of the basket at all times.**

  3. **As a customer, I should be able to checkout easily.**

  3. **As a customer, I want to be able to store my delivery details for future use.**

### Registered user
  1. **As a registered user, I should be able to log in.**

  3. **As a registered user, I should be able to log out.**

  3. **As a registered user, I should be able to view my order history.**

  3. **As a registered user, I should be able to view the details of previously placed orders.**

  3. **As a registered user, I should be able to view my saved address details.**

  3. **As a registered user, I should be able to edit my saved address details.**

  3. **As a registered user, I should be able to add comments to company posts in the progress blog.**

  3. **As a registered user, I should be able to change my registered email address**

  3. **As a registered user, I should be able to change my password.**
   
### Site administrators
  1. **As an authorised user, I should be able to add products to the store.**

  3. **As an authorised user, I should be able to edit products in the store.**

  3. **As an authorised user, I should be able to delete products from the store.**

  5. **As an authorised user, I should be able to add posts to the progress blog.**

  3. **As an authorised user, I should be able to edit posts in the progress blog.**

  3. **As an authorised user, I should be able to delete posts from the progress blog.**
 
  1. **As an authorised user, I should be able to edit comments on posts in the progress blog.**

### Design

#### Design Overview

There were 2 major ideas behind the design of this website which were present and helped to inform almost all design decisions. The first of these was to express the website's driving environmental goals through a cohesive and strongly branded design emphasising the green shades and colours of nature and woodlands. The second idea behind the website's design was to ensure at all points that the user was aware of the most important interactions, and provided with clear feedback as well as a clear information hierarchy.

#### Colour Scheme

![Image of Trestore colour scheme](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/trestore-colour-scheme.png)

#### Primary Colours

In the creation of the branding and design for the website, I decided to draw on nature and the trees that the store would be selling for the colour scheme of the website. The primary brand colour for the website is #336857 a full green colour chosen to evoke a sense of the relationship between the company and nature and the trees and woodlands that it supports through its sales and sponsorship packages. As the primary branding colour, it is used as a background colour in the majority of the buttons and points of interaction on the site, as well as the text colour of a lot of the headings to ensure an easy to read, consistent cohesive experience throughout the design.

The other two colours in Trestore's scheme are #F2F8F7 and #1A342C. The first, #F2F8F7 is a light white colour with a green tone, the second #1A342C is a very dark shade of green. These two secondary colours are used opposite each other in the website's design. They are used primarily as the background colour of the various pages of the site and in the case of #F2F8F7, it is used along with #FFFFFF, plain white, as the background colour of a lot of the text pieces and information points on the website to ensure clarity and ease of comprehension.

#### Typography

There are two fonts in use in the design of the website, the first, Josefin Slab is a delicate and notable font, though still very readable. It is used as the font for the website's brand on the navbar as well as the font of the text on the home page banner. The second font used, Open Sans, is a very clean and readable font. It is used

#### Imagery

Imagery is used in a few places throughout the website. On the home page and the progress blog, there is a large SVG icon of a tree which is used to create a visual representation of the website's relationship to nature and woodlands. Along this same line, the basket icon is an icon of a branch to represent the fact that the basket is going to be containing trees and seeds and to give visual feedback of that to the user. Additionally in the login and register pages, there is a large background image of a tree backlit by the sky. These images were all used alongside the colour design to create a sense of the brand of the website.

The other images in use in the design are ones that can be uploaded with products or with progress posts. To create a more engaging experience when browsing and reading progress posts, site admins can upload images that will be at the top and centre of the postcard. Additionally with regards to products images can be uploaded to display to the user what the product will look like, and create a more comprehensive and informed shopping experience.

### Wireframes

The wireframes for the website were developed using [Figma](https://www.figma.com/) 

 -   #### Home Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/home-desktop.png)

 -   #### Home Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/home-tablet.png)

 -   #### Home Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/home-mobile.png)


 -   #### Store Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/store-desktop.png)

 -   #### Store Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/store-tablet.png)

 -   #### Store Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/store-mobile.png)


 -   #### Sponsorship Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/sponsorship-desktop.png)

 -   #### Sponsorship Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/sponsorship-tablet.png)

 -   #### Sponsorship Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/sponsorship-mobile.png)


 -   #### Sign In Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/sign-in-desktop.png)

 -   #### Sign In Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/sign-in-tablet.png)

 -   #### Sign In Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/sign-in-mobile.png)


 -   #### Register Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/register-desktop.png)

 -   #### Register Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/register-tablet.png)

 -   #### Register Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/register-mobile.png)


 -   #### Profile Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/profile-desktop.png)

 -   #### Profile Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/profile-tablet.png)

 -   #### Profile Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/profile-mobile.png)


 -   #### Basket Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/basket-desktop.png)

 -   #### Basket Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/basket-tablet.png)

 -   #### Basket Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/basket-mobile.png)


 -   #### Progress Blog Page - Desktop Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/progress-desktop.png)

 -   #### Progress Blog Page - Tablet Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/progress-tablet.png)

 -   #### Progress Blog Page - Mobile Wireframe - [View](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/progress-mobile.png)


### Planned Features

#### Sponsorship packages rework

Unfortunately, due to time constraints, I decided to endeavour for a minimum viable design for the functionality of the sponsorship section of the project. Ideally, if there had been time there are a number of changes I would implement to this and in future updates to the project I intend to rework the functionality and feature list of the sponsorship aspect of the website.

The most significant change to the project that I intend to update is creating a new Django app to handle the sponsorship functionality. This app would enable a user to directly donate money to the store for the planting of trees without having to add the package to the basket and proceed through the same checkout flow as the store and typical products. In doing so I would also redesign the sponsorship page to be more dynamic and to provide a more streamlined experienced tailored to a direct donation form of payment.

#### Allauth social accounts

In future updates to this project, I intend to implement the ability to sign in and create store accounts using your social media accounts using Django allauth's social accounts authentication package. This would enable user's to sign up for the store in a much more straightforward manner and would encourage user's to make accounts and use the store.

### Database Design / Data Modelling

![Image of data schema diagram](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/data-schema.png)


#### ProgressPost model

The ProgressPost model is the model used to store details for posts in the progress blog. It stores the basic details of the post such as the title, the post content, the date posted and an image as well as having a ForeignKey field to store the author's userprofile object. This is to provide an author's name to the post.

#### Comment model

The Comment model is used to store details of comments made on posts in the progress blog. It stores the basic details of the comment such as the comment content and date posted as well as two ForeignKey fields, the post that the comment is attached to and the author of the post which is related to the user's userprofile object. This is to provide an author's name to the comment.

#### User model

The User model is inherited from the Django.contrib.allauth module. It is used to authenticate users and provide the ability to register and sign in to the store and the session. It contains basic details such as the username and email address as well as a password field and boolean fields specifying whether or not the user is a superuser and whether or not they have verified the email.


#### UserProfile model

The UserProfile model is the model used to track the activity and details of a customer or user of the store. It has a one to one relationship with the User model to enable signing in and out of the session and providing access to personal details if authenticated. The model contains the user's delivery details if they have elected to store them for the future, as well as the tree_planting_contribution field. Which tracks the total number of trees planted due to their orders.

#### Orders model

The Order model is the model used to track orders made in the store. It contains all of the payment and delivery details as well as a ForeignKey field containing the user's UserProfile object if they are signed in.

#### OrderLineItem model

The OrderLineItem model is used to store the product and quantity details of each order. For every product in the basket at the time of the checkout, an OrderLineItem object is created containing the Product object and the quantity of that product in the basket as well as the Order object of the order it is attached to and the linitem_total or subtotal of the quantity of the product.

#### Product model

The product model is used to store details about each product in the store. It contains the basic details of the product such as name description price SKU and image, as well as a ForeignKey field related to the Category model containing the category of the product.

#### Category model

The Category model is used to store the basic details regarding the categories of products offered in the store. It contains two fields, the category name and the friendly_name which is used for display purposes.

## Features

#### Home Page

![Image of home page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-home.PNG)

The idea behind the design of the home page is to present the most important links and resources on the site to the user as well as to welcome them to the website and inform them of the visual and interaction language of the website.

The layout itself is relatively simple consisting primarily of a banner element containing two CTA buttons, one linking to the products store and one linking to the sponsorship packages. The page also features a large hero image illustration o a tree against a dark green background to help create in the user a sense of the relationship between the user and the website's environmental goals.

#### Store Page

![Image of store page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-store.PNG)

The store page is simply designed, prioritising above all a clean and clear user experience and access to information and products. The page has two sections, the first of these as seen in the image below is the product sort, filtering and search section. This section provides users three options to customise the display of products in the store, offering the ability to filter by a category, sort by either price ascending, price descending or by category and finally to filter results by search terms. By submitting these parameters the products displayed on the page will change to suit the needs and interests of the customer and create a positive user experience when browsing.

![Image of store page filter options](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-store-filter.PNG)

The second section is the product container wherein products are displayed on card elements in a responsive grid to provide a satisfying and easy browsing experience across all devices sizes. The product card contains several features including a product image, the product name, price and SKU value, a link to the product details page for that product and a quantity input field with a button to add the product to the basket.

![Image of store page product card](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-store-card.PNG)

Each product card also has a product options dropdown that can be activated to provide links to the edit and delete options for the product by clicking the three dots icon if the user is authorised as a superuser.

![Image of store page product card edit options](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-store-card-options.PNG)

#### Navbar

![Image of navbar](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-navbar.PNG)

The navbar is fixed at the top of the base template so that it appears on all pages of the site. The colour of the navbar is the primary branding colour of the website to create a cohesive design scheme across all of the pages and applications of the site. It contains links to all of the primary pages as well as a dropdown list providing links related to profile actions and certain restricted actions such as adding products to the store.

![Image of navbar profile dropdown options](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-navbar-profile-open.PNG)

On the right-hand side of the navbar, there is a branch icon representing a link to the basket page along with a number display below which displays the total price of all items currently present in the basket. This branch icon can be clicked on to navigate the user to the basket page containing all of the products and quantities in their basket currently.

![Image of navbar basket icon](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-navbar-basket.PNG)

#### Progress Blog

![Image of progress blog page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-progress.PNG)

The progress blog is the page that visitors can go to to learn about the company and see updates and news from the company about its various environmental efforts. The page contains a primary container for the posts themselves as well as the background image of the tree that is also used on the home page. 
The Post container has two main components, an add post button, that will display if the active user is authorised and the post display.

![Image of progress blog add post button](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-progress-button.PNG)

The post display consists of a series of post cards displayed vertically with the newest post at the top. The post card itself has several elements. If the user is authorised there is an options menu dropdown button on the head of the post, with an image below and the content of the post just above the base. Along the base of the post, there is the date that the post was published, the author of the post and finally, a show comments button.

![Image of progress post](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-progress-card.PNG)

![Image of progress post card options](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-progress-card-options.PNG)

When the show comment button is pressed the comments section will display, containing the add comment form and the comments that are already attached to the post.

![Image of progress post comment section](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-progress-card-comment-section.PNG)

Comments can be added to the post using this form, and existing comments can either be edited or deleted by the author or by an authorised user. Comments can be edited by selecting the Edit option at the bottom of the comment which will hide the comment and replace it with a form with the comment's content prefilled. If a user changes the content of the form and saves it, then the page will reload the comment will contain its new content.

![Image of progress post comment section edit comment form](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-progress-card-comment-section-edit.PNG)

#### Add / Edit Post Page

![Image of add post page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-add-post.PNG)

![Image of edit post page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-edit-post.PNG)

The add and edit post pages are relatively simple, they contain a form with an input field for each of the fields of the post model. In the case of the image field, a custom Django widget is used, which allows for the display of the image if one is already in use.

#### Sponsorship Page

![Image of sponsorship packages page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-sponsorship.PNG)

The sponsorship page is the display page for sponsorship packages that the website offers. These packages are intended to be used as gifts and potentially as a target to fundraise towards. The page contains a central display of product cards similar to the product store. The cards in the store offer customers the opportunity to directly sponsor the planting of trees in different quantities. Each of the cards, similar to the products store, contains a title, an image, a description as well as view details and add to basket buttons. 

Unfortunately, due to time constraints, I was unable to implement a number of the features that I would have liked to include in this part of the project. As covered in more detail above in the planned features section ideally I would implement a rework of the feature entirely to create a Django app distinct from that of the products module.

#### Profile Page

![Image of profile page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-profile.PNG)

The profile page is the centralised location for a lot of the user's interactions with their account details and as well as where they can find a record of their history with the site. On the top of the page, there is a display of the number of trees that have been planted due to the tree planting contribution of each of the user's orders and purchases. I believe that this could be a point of pride for customers, and provide them with further encouragement to use the store and make repeat purchases to improve their environmental contribution.

![Image of profile page tree planted number](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-profile-trees.PNG)

The other two sections on the page are the user's contact and delivery details, which can be updated. In the case of the email and password settings the user can update them by clicking the highlighted links alongside the current value which will redirect them to forms that can be used to change their details, and in the case of the delivery details the user can click the edit icon in the top right of the form to convert the text display to a form with input elements for each field as can be seen in the image below.

![Image of profile page edit stored details form](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-profile-edit-details.PNG)

The final section of the profile page is the order history section which is a table element containing a display of each of the user's previous orders. The table contains columns for the order number of the order as well as the date that the order was placed and the total cost of the order. It also contains a link labelled Order Details for each order which when clicked will navigate the user to the order details page containing more extensive details of the order in question.

#### Basket Page

![Image of basketpage](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-basket.PNG)

The basket page is where the user can go to see and edit the contents of their basket, as well as view the total cost of the items in the basket. The quantities of the items in the basket can be adjusted by using the number input field below the quantity as seen in the image below. Next to each item is also a delete button to remove the item from the basket.

![Image of basket contents update quantity input](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-basket-update.PNG)

The price summary section contains the total of the items in the basket as well as the delivery total and the percentage of the total that will be put directly towards planting trees. At the bottom of this section, there are two links, one that will return the user to the basket and another that will submit the checkout and payment request.

![Image of basket price summary](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-basket-summary.PNG)

#### Checkout Page

![Image of checkout page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-checkout.png)

The checkout page contains two main elements. The first, the checkout form, contains input fields for all of the user's necessary order details including name, email, address details and a stripe generated card input field. Just below the delivery details section of the form is the payment details including a list of all items in the basket, along with their quantities, and subtotals with the totals and delivery costs below that.

![Image of checkout page store details option](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-checkout-store-details.PNG)

#### Order Confirmation / Order Details

![Image of order confirmation page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-order-confirmation.PNG)

The order confirmation and order detail pages are both rendered from the same template with only a few changes to the heading and text content being the difference between them. The page itself contains a page heading and message at the top thanking the customer for their purchase and informing them that they have been emailed the order details as well. Below that there is a box containing all of the order details including the delivery and payment details as well as the contents of the order.

Below the order details box, there is a link back to either the home page or the user's profile, depending on whether or not the page is displaying the order confirmation or order details from the profile.

#### Login / Register Page

![Image of sign-in page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-sign-in.PNG)

![Image of registration page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-sign-up.PNG)

The login and registration pages are very similar pages. They both contain a central form with a background image of a branch against the sky. The registration form contains a field for the user's username, two fields for the user's email address and two for the user's password. The login form contains just two fields, one for the user's username and one for the user's password.

#### Product Details

![Image of product details page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-product-details.PNG)

The product details page is primarily used for presenting all of the information about a product to the user in one place. The page contains all of the product details including product name, product description price, SKU, image, as well as edit and delete buttons if the user is authorised as a superuser. Additionally, the page contains options to add the product to the basket with a quantity input field as well as a button to return to the store.

#### Footer

The Footer which is at the bottom of all pages is the same colour as the navbar to create a clear link between them and ensure the website has a cohesive well thought out design. The footer contains social links as well as a copyright statement with a date that automatically updates with the year.

![Image of footer](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-footer.PNG)

#### Edit / Add Product Page

![Image of add product page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-add-product.PNG)

![Image of edit product page](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-edit-product.PNG)

The add and edit product pages, similar to those of the add and edit post pages primarily consists of a central form containing input elements for every field of the product model. In the case of the image field as can be seen above a custom file input widget is used to display a preview of the image that is currently in use and to display the file name of the image that the user has chosen to add.

#### Messages

![Image of the message](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/features-message-info.PNG)

After a large number of actions, in particular, ones that affect either the shopping basket or database interactions the website will display messages to the user to provide feedback on the success or otherwise status of the actions. For instance, when a user adds a product to the basket a success message will be displayed specifying the product that has been added to the basket along with a small summary of all of the products currently in the basket and their quantities.

#### Header Banner

The header banner is present on all pages and it is used to highlight one of the benefits of shopping in the store, 5% of all sales go directly to planting trees. It's intended to create a further incentive to encourage visitors to use the store and to buy sponsorship packages.

## Technologies Used

### Languages Used

-   [HTML5](https://en.wikipedia.org/wiki/HTML5)
-   [CSS3](https://en.wikipedia.org/wiki/Cascading_Style_Sheets)
-   [JavaScript](https://www.javascript.com/)
-   [Python](https://www.python.org/)


### Frameworks, Libraries & Programs Used

1. [Bootstrap 5.0:](https://getbootstrap.com/)
  - Bootstrap was used to create the initial base template of the design that was then built on top of and customised further using CSS.

2. [Django:](https://www.djangoproject.com/)
  - Django is the python web framework used to implement the 

3. [Jquery:](https://jquery.com/)
  - Jquery is used throughout the JavaScript in the project to create simpler and more concise code.

4. [FontAwesome:](https://fontawesome.com//)
  - FontAwesome is used in the website to display icons for buttons and visual effects.

5. [favicon.io:](https://favicon.io/)
  - Favicon.io was used to generate the website's favicon.

6. [Django:](https://www.djangoproject.com/)
  - Django is the python web framework used to implement the website's MVC structure.
 
7. [Google Fonts:](https://fonts.google.com/)
  - Google fonts was used to import the fonts that were used as the primary typography on the website.
 
8. [Font Awesome:](https://fontawesome.com/)
  - Font Awesome's icon library was used to reinforce sections and information points throughout the website.
 
9. [Git:](https://git-scm.com/)
  - Git was used as the primary version control software for the project. It was operated using the Gitpod terminal.
 
10. [GitHub:](https://github.com/)
  - GitHub is where the project is stored. It was also used to view version control changes.
 
11. [Gitpod:](https://gitpod.io/)
  - Gitpod was the IDE used to program the website.
 
12. [Coolors:](https://coolors.co/)
  - Coolors was used to generate colours for a scheme that was harmonious and evoked the desired aesthetic.
 
13. [Figma:](https://www.figma.com/)
  - Figma was used to generate the initial wireframes and mockups that were used to inform the programming of the website.

14. [Responsive Viewer:](https://chrome.google.com/webstore/detail/responsive-viewer/inmopeiepgfljkpkidclfgbgbmfcennb?hl=en)
  - This chrome web extension was used as it allows for multiple views of a website at multiple scales and device sizes at once. It was used for testing responsive design.
 
15. [Chrome DevTools:](https://developers.google.com/web/tools/chrome-devtools)
 - DevTools was used for analysing the code and design of the practice during development. Also used to test changes in real-time.

16. [Hover.css:](https://ianlunn.github.io/Hover/)

17. [Heroku:](https://dashboard.heroku.com/apps)
- Heroku is the cloud platform where the live version of this project is hosted

18. [Chrome Lighthouse:](https://developers.google.com/web/tools/lighthouse)
- Chrome Lighthouse was used to analyse and test page load speeds and page performance.

19. [Multi Device Website Mockup Generator:](https://techsini.com/multi-mockup/index.php)
- This website was used to generate the image at the top of the readme.MD file.

20. [Amazon AWS:](https://aws.amazon.com/)
- Amazon's AWS servers are used for the hosting of static and media files for the deployed project.

21. [Django Allauth:](https://django-allauth.readthedocs.io/en/latest/)
- Django Allauth is used in the project to implement login/registration and authentication features for user profiles.

22. [Stripe:](https://stripe.com/ie)
- Stripe's API was used to implement a payment system to enable the store functionality.

### Testing

The testing section can be found [Here](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/TESTING.md)

## Deployment

### To Publish to Heroku
1. Create a Heroku app, choose the appropriate region.

![Deploy step 1](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_01.PNG)

![Deploy step 2](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_02.PNG)

2. Go to the Resources tab

![Deploy step 3](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_4.PNG)

3. Add Heroku Postgres in the Add-Ons section

![Deploy step 4](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_5.PNG)

4. In the project terminal install dj_database_url and psychopg2-binary update requirements.txt

![Deploy step 5](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_9.PNG)

![Deploy step 6](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_10.PNG)

5. In settings.py import dj_databse_url add Heroku URL to allowed hosts setting

![Deploy step 7](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_7settings.PNG)

6. Temporarily replace database config and set it to the Heroku Postgres database

7. Run migrations to update the database with models needed for the project, and create a superuser for the Postgres deployed project

![Deploy step 8](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_11.PNG)

8. Update Databases configuration to check for 'DATABASE_URL' in env, if it is, connect the project to the Postgres database, otherwise uses local SQLite database.

![Deploy step 9](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_8.PNG)

9. Install gunicorn to act as webserver and update requirements.txt

![Deploy step 10](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_12.PNG)

10. Create Procfile and setup gunicorn

        web: gunicorn ms4_trestore.wsgi:application

11. Login to Heroku through the terminal 

![Deploy step 11](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_13.PNG)

12. Then in Heroku set DISABLE_COLLECTSTATIC = 1 in config vars

![Deploy step 12](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_6.PNG)

13. Then commit and push to GitHub

14. Then setup Heroku remote and push to Heroku master

![Deploy step 13](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_14.PNG)

15. In Heroku Deploy tab connect to the GitHub repo and enable automatic deploys

![Deploy step 14](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_2.PNG)

![Deploy step 15](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_3.PNG)

16. Generate secret key and add as SECRET_KEY to config vars

17. In settings.py set SECRET_KEY to call variable from os.environ and set DEBUG = 'DEVELOPMENT' in os.environ



### Setting Up AWS bucket
1. Create an AWS account

2. Open AWS management console and open the S3 service tab

![Deploy step 16](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_15.PNG)

3. Create a new bucket and set name and region then disable Block all public access setting

![Deploy step 17](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_18.PNG)

![Deploy step 18](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_19.PNG)

4. Create a bucket and navigate to the properties tab, then turn on static website hosting

5. Set bucket to host a website and fill in default values

![Deploy step 19](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_22.PNG)

6. Navigate to the permissions tab and input the CORS configuration from the image below

![Deploy step 21](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_24.PNG)

7. Open the bucket policy tab and select policy generator

![Deploy step 22](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_25.PNG)

8. Set the fields to the values in the images below and set the ARN to the value displayed in the CORS configuration tab

![Deploy step 23](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_26.PNG)

![Deploy step 24](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_27.PNG)

9. Add statement and then generate policy and copy the JSON document that is displayed

![Deploy step 25](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_29.PNG)

10. Then paste that policy into the bucket policy tab adding /* to the end of the resource key to allow access to all resources

![Deploy step 26](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_30.PNG)

11. Then navigate to Access Control List and set the values to the ones shown in the image below

![Deploy step 27](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_31.PNG)


### Set up IAM user
1. Navigate to IAM in the AWS dashboard and select Groups

![Deploy step 28](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_33.PNG)

2. Create a new group called manage-trestore

![Deploy step 29](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_35.PNG)

3. Navigate to the Policies tab and select Create Policy button

![Deploy step 30](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_37.PNG)

4. Open the JSON tab and select import policy

![Deploy step ](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_38.PNG)

5. Select the AmazonS3FullAccess Policy 

![Deploy step 31](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_39.PNG)

6. Copy the bucket ARN from the bucket policy tab of S3 and paste it into the JSON policy tab as seen in the image below

![Deploy step 32](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_40.PNG)

7. Continue through to the Review policy tab and import values as seen below with a name and description and Create the Policy

![Deploy step 33](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_42.PNG)

8. Return to the groups tab and open the manage-trestore group and select the attach policy option. Then attach the newly created policy

![Deploy step 34](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_44.PNG)

9. Navigate to the Users tab and click the add user option.

![Deploy step 35](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_45.PNG)

10. Create a user with a name similar to the one in the image below and programmatic access

![Deploy step 36](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_46.PNG)

11. Then click next and attach them to the manage-trestore group

![Deploy step 37](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_47.PNG)

12. Click through to the end and create a user

13. Then download the .csv file containing that user's access credentials

![Deploy step 38](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_48.PNG)


### Connect your project to the S3 bucket

1. Open your project and install boto3 and Django storages, updating requirements.txt after doing so

![Deploy step 39](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_49.PNG)

2. Then add storages to INSTALLED_APPS in settings.py

![Deploy step 40](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_50.PNG)

3. In settings.py set up AWS config as seen in the image below

![Deploy step 41](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_55.PNG)

4. Then add the user access credentials to the Heroku config vars as in the image below and set USE_AWS to True

![Deploy step 42](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_54_LI.jpg)

5. In the project directory create custom_storages.py and set it up as seen in the image below to configure the project storing files using AWS

![Deploy step 43](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_61.PNG)

6. Then in settings.py add in the static and media file storage configuration in the USE AWS block with the variables seen below

![Deploy step 44](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_56.PNG)

7. When the project is deployed on Heroku static files will automatically be collected and uploaded to AWS bucket static/ folder

![Deploy step 45](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_57.PNG)

8. Then add the settings in the below image to the top of the AWS configuration block to allow for caching of static files

![Deploy step 46](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_62.PNG)

9. Next navigate to the AWS s3 bucket and create a new media folder, upload any necessary images and set the public permissions to grant read access and upload

![Deploy step 47](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_58.PNG)

10. Return to your deployed project on Heroku and through the /admin/ portal verify the superuser's email address to grant them full access to the site

11. To finalise deploying the project, add the stripe access variables to the Heroku config vars as seen below

![Deploy step 48](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_60.PNG)

12. Then create a new stripe webhook endpoint for the deployed URL and copy the webhook signing secret to the config vars

![Deploy step 49](https://github.com/zackgithuboriginal/trestore-milestone-project-4/blob/master/docs/deploy_59.PNG)


### To Clone the Repository and Run Locally

#### To Clone Using the Command Line

1. Navigate to the home page of the repository.

2. To the top right of the repository, file directory click the "Code" button.

3. Make sure that the HTTPS tab is open and click the copy to clipboard button.

4. Navigate to your IDE and open the directory to which you want to clone the repository

5. Open the terminal and type "git clone" followed by the contents of the clipboard which will be "https://github.com/zackgithuboriginal/trestore-milestone-project-4.git" click enter and the repository will then clone to that directory.

    git clone https://github.com/zackgithuboriginal/trestore-milestone-project-4.git

#### To Clone Using GitHub Desktop

1. Navigate to the home page of the repository.

2. To the top right of the repository, file directory click the "Code" button.

3. Halfway down the tab click the "Open with GitHub Desktop" option.

4. If the GitHub Desktop application is installed and open it will be presented with this prompt.

5. Enter the desired location to clone the repository and click the clone button. 

6. The repository will then be cloned to that location.

#### To Run the Project Locally

To run the project locally there are several things that you need to do. 
Firstly open the project in your IDE of choice and ensure that all of the dependencies listed in Requirements.txt are installed.

Then you either need to export the project's necessary config vars through the terminal or create an env.py file containing the config vars as these will be necessary for the full functionality of the website.
After adding all of the necessary settings to the env.py the project will run locally and you can host locally by using the following command.

    python3 manage.py runserver


## Credits

### Code



### Content



### Media



#### Original creators and links to images



### Acknowledgements
